# Implement collaborative movie selection app
_Exported on 8/12/2025 at 12:34:10 PDT from Cursor (1.4.3)_

---

**User**

I want you to implement a collaborative movie selection app that helps groups decide what movie to watch together using an interactive swiping mechanism. Let’s start step-by-step. Please do not do anything before I ask. 

---

**Cursor**

I understand! You want me to implement a collaborative movie selection app with a swiping mechanism for group decision-making. I can see you have a project structure already set up with:

- **Backend**: Node.js/TypeScript setup in the `/backend` folder
- **Frontend**: Android Kotlin app with Jetpack Compose in the `/frontend` folder  
- **Requirements**: Product requirement documents in the `/prd` folder covering authentication, group management, joining groups, voting sessions, movie voting, and movie selection

I'm ready to help you implement this step-by-step. Just let me know which part you'd like to start with first - whether it's:

1. Setting up the backend architecture and APIs
2. Implementing the Android frontend UI and navigation
3. Working on a specific feature like authentication, group management, or the swiping mechanism
4. Or any other specific aspect you'd like to tackle

What would you like to begin with?

---

**User**

Create ONLY the Node.js TypeScript backend structure - folders and placeholder files. No implementation. I'll add features in separate prompts. @structure_backend.mdc 

---

**Cursor**

I'll create the Node.js TypeScript backend structure with all the required folders and placeholder files according to the structure specification.

Now I'll create placeholder files for all the domain-specific folders (models, services, controllers, routes):

```typescript
// User model placeholder
// Define the structure of user data (e.g., database schemas)

export interface User {
  // User model definition will be implemented here
}
```

```typescript
// Group model placeholder
// Define the structure of group data (e.g., database schemas)

export interface Group {
  // Group model definition will be implemented here
}
```

```typescript
// Voting model placeholder
// Define the structure of voting data (e.g., database schemas)

export interface Vote {
  // Vote model definition will be implemented here
}

export interface VotingSession {
  // VotingSession model definition will be implemented here
}
```

```typescript
// Movie model placeholder
// Define the structure of movie data (e.g., database schemas)

export interface Movie {
  // Movie model definition will be implemented here
}
```

```typescript
// User service placeholder
// Contains the business logic for user operations

export class UserService {
  // User business logic will be implemented here
}
```

```typescript
// Group service placeholder
// Contains the business logic for group operations

export class GroupService {
  // Group business logic will be implemented here
}
```

```typescript
// Voting service placeholder
// Contains the business logic for voting operations

export class VotingService {
  // Voting business logic will be implemented here
}
```

```typescript
// Movie service placeholder
// Contains the business logic for movie operations

export class MovieService {
  // Movie business logic will be implemented here
}
```

```typescript
// User controller placeholder
// Handles incoming HTTP requests for user operations

import { Request, Response } from 'express';

export class UserController {
  // User HTTP request handlers will be implemented here
}
```

```typescript
// Group controller placeholder
// Handles incoming HTTP requests for group operations

import { Request, Response } from 'express';

export class GroupController {
  // Group HTTP request handlers will be implemented here
}
```

```typescript
// Voting controller placeholder
// Handles incoming HTTP requests for voting operations

import { Request, Response } from 'express';

export class VotingController {
  // Voting HTTP request handlers will be implemented here
}
```

```typescript
// Movie controller placeholder
// Handles incoming HTTP requests for movie operations

import { Request, Response } from 'express';

export class MovieController {
  // Movie HTTP request handlers will be implemented here
}
```

```typescript
// User routes placeholder
// Defines all the endpoints and links them to user controllers

import { Router } from 'express';

const userRouter: Router = Router();

// User route definitions will be implemented here

export default userRouter;
```

```typescript
// Group routes placeholder
// Defines all the endpoints and links them to group controllers

import { Router } from 'express';

const groupRouter: Router = Router();

// Group route definitions will be implemented here

export default groupRouter;
```

```typescript
// Voting routes placeholder
// Defines all the endpoints and links them to voting controllers

import { Router } from 'express';

const votingRouter: Router = Router();

// Voting route definitions will be implemented here

export default votingRouter;
```

```typescript
// Movie routes placeholder
// Defines all the endpoints and links them to movie controllers

import { Router } from 'express';

const movieRouter: Router = Router();

// Movie route definitions will be implemented here

export default movieRouter;
```

Now I'll create placeholder files for the remaining folders (middleware, config, types, utils, docs):

```typescript
// Authentication middleware placeholder
// Reusable function for authentication handling

import { Request, Response, NextFunction } from 'express';

export const authMiddleware = (req: Request, res: Response, next: NextFunction): void => {
  // Authentication middleware logic will be implemented here
  next();
};
```

```typescript
// Error handling middleware placeholder
// Reusable function for error handling

import { Request, Response, NextFunction } from 'express';

export const errorHandler = (error: Error, req: Request, res: Response, next: NextFunction): void => {
  // Error handling middleware logic will be implemented here
};
```

```typescript
// Rate limiting middleware placeholder
// Reusable function for rate limiting

import { Request, Response, NextFunction } from 'express';

export const rateLimiter = (req: Request, res: Response, next: NextFunction): void => {
  // Rate limiting middleware logic will be implemented here
  next();
};
```

```typescript
// Database configuration placeholder
// Store MongoDB connection settings

export interface DatabaseConfig {
  // Database configuration will be implemented here
}
```

```typescript
// Environment configuration placeholder
// Store environment variables and app settings

export interface EnvironmentConfig {
  // Environment configuration will be implemented here
}
```

```typescript
// Common type definitions placeholder
// Shared custom TypeScript type definitions and interfaces

export interface ApiResponse<T> {
  // Common API response types will be implemented here
}

export interface PaginationParams {
  // Pagination parameter types will be implemented here
}
```

```typescript
// Authentication type definitions placeholder
// Authentication-related TypeScript type definitions and interfaces

export interface AuthToken {
  // Authentication token types will be implemented here
}

export interface LoginCredentials {
  // Login credential types will be implemented here
}
```

```typescript
// Validation utility functions placeholder
// Helper functions for data validation

export class ValidationUtils {
  // Validation utility methods will be implemented here
}
```

```typescript
// Cryptographic utility functions placeholder
// Helper functions for encryption, hashing, and security

export class CryptoUtils {
  // Cryptographic utility methods will be implemented here
}
```

```typescript
// Logging utility functions placeholder
// Helper functions for application logging

export class Logger {
  // Logging utility methods will be implemented here
}
```

```yaml
# OpenAPI specification placeholder
# API documentation will be implemented here

openapi: 3.0.0
info:
  title: MovieSwipe API
  description: API for collaborative movie selection app
  version: 1.0.0
  
paths:
  # API endpoints will be documented here
```

Finally, I'll create the test folder structure:

```typescript
// User unit tests placeholder
// Unit tests for user-related functionality

describe('User Service', () => {
  // User unit tests will be implemented here
});
```

```typescript
// Group unit tests placeholder
// Unit tests for group-related functionality

describe('Group Service', () => {
  // Group unit tests will be implemented here
});
```

```typescript
// Voting unit tests placeholder
// Unit tests for voting-related functionality

describe('Voting Service', () => {
  // Voting unit tests will be implemented here
});
```

```typescript
// Movie unit tests placeholder
// Unit tests for movie-related functionality

describe('Movie Service', () => {
  // Movie unit tests will be implemented here
});
```

```typescript
// API integration tests placeholder
// Integration tests for API endpoints

describe('API Integration Tests', () => {
  // API integration tests will be implemented here
});
```

```typescript
// End-to-end workflow tests placeholder
// E2E tests for complete user workflows

describe('E2E Workflow Tests', () => {
  // End-to-end workflow tests will be implemented here
});
```

Perfect! I've successfully created the complete Node.js TypeScript backend structure according to the clean architecture specification. Here's what has been created:

## Backend Structure Created

```
/backend/src/
├── /models/          # Data structure definitions
│   ├── users.ts      # User model placeholder
│   ├── groups.ts     # Group model placeholder  
│   ├── voting.ts     # Voting & VotingSession models placeholder
│   └── movies.ts     # Movie model placeholder
├── /services/        # Business logic
│   ├── users.ts      # UserService placeholder
│   ├── groups.ts     # GroupService placeholder
│   ├── voting.ts     # VotingService placeholder
│   └── movies.ts     # MovieService placeholder
├── /controllers/     # HTTP request handlers
│   ├── users.ts      # UserController placeholder
│   ├── groups.ts     # GroupController placeholder
│   ├── voting.ts     # VotingController placeholder
│   └── movies.ts     # MovieController placeholder
├── /routes/          # API endpoints
│   ├── users.ts      # User routes placeholder
│   ├── groups.ts     # Group routes placeholder
│   ├── voting.ts     # Voting routes placeholder
│   └── movies.ts     # Movie routes placeholder
├── /middleware/      # Reusable middleware
│   ├── auth.ts       # Authentication middleware
│   ├── errorHandler.ts # Error handling middleware
│   └── rateLimiter.ts  # Rate limiting middleware
├── /config/          # Configuration
│   ├── database.ts   # Database configuration
│   └── environment.ts # Environment variables
├── /types/           # TypeScript definitions
│   ├── common.ts     # Common types (ApiResponse, PaginationParams)
│   └── auth.ts       # Authentication types
├── /utils/           # Helper functions
│   ├── validation.ts # Validation utilities
│   ├── crypto.ts     # Cryptographic utilities
│   └── logger.ts     # Logging utilities
└── /docs/
    └── openapi.yaml  # API documentation placeholder

/backend/tests/
├── /unit/            # Unit tests
│   ├── users.test.ts
│   ├── groups.test.ts
│   ├── voting.test.ts
│   └── movies.test.ts
├── /integration/     # Integration tests
│   └── api.test.ts
└── /e2e/            # End-to-end tests
    └── workflows.test.ts
```

All files are created as placeholders with appropriate comments and basic structure following clean architecture principles. The structure is organized by:

1. **Architecture layers** (models, services, controllers, routes, etc.)
2. **Domain separation** within each layer (users, groups, voting, movies)
3. **SOLID principles** with clear separation of concerns
4. **Testing structure** with unit, integration, and e2e test folders

The backend is now ready for you to implement specific features step by step!

```plaintext
/backend/src/
├── /models/          # Data structure definitions
│   ├── users.ts      # User model placeholder
│   ├── groups.ts     # Group model placeholder  
│   ├── voting.ts     # Voting & VotingSession models placeholder
│   └── movies.ts     # Movie model placeholder
├── /services/        # Business logic
│   ├── users.ts      # UserService placeholder
│   ├── groups.ts     # GroupService placeholder
│   ├── voting.ts     # VotingService placeholder
│   └── movies.ts     # MovieService placeholder
├── /controllers/     # HTTP request handlers
│   ├── users.ts      # UserController placeholder
│   ├── groups.ts     # GroupController placeholder
│   ├── voting.ts     # VotingController placeholder
│   └── movies.ts     # MovieController placeholder
├── /routes/          # API endpoints
│   ├── users.ts      # User routes placeholder
│   ├── groups.ts     # Group routes placeholder
│   ├── voting.ts     # Voting routes placeholder
│   └── movies.ts     # Movie routes placeholder
├── /middleware/      # Reusable middleware
│   ├── auth.ts       # Authentication middleware
│   ├── errorHandler.ts # Error handling middleware
│   └── rateLimiter.ts  # Rate limiting middleware
├── /config/          # Configuration
│   ├── database.ts   # Database configuration
│   └── environment.ts # Environment variables
├── /types/           # TypeScript definitions
│   ├── common.ts     # Common types (ApiResponse, PaginationParams)
│   └── auth.ts       # Authentication types
├── /utils/           # Helper functions
│   ├── validation.ts # Validation utilities
│   ├── crypto.ts     # Cryptographic utilities
│   └── logger.ts     # Logging utilities
└── /docs/
    └── openapi.yaml  # API documentation placeholder

/backend/tests/
├── /unit/            # Unit tests
│   ├── users.test.ts
│   ├── groups.test.ts
│   ├── voting.test.ts
│   └── movies.test.ts
├── /integration/     # Integration tests
│   └── api.test.ts
└── /e2e/            # End-to-end tests
    └── workflows.test.ts
```

